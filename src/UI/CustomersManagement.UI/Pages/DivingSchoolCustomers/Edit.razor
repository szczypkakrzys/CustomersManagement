@page "/divingschool/customers/edit/{id:int}"

<h3>Edytuj dane klienta</h3>

@if (string.IsNullOrEmpty(Message) == false)
{
    <div class="alert alert-danger">
        @Message
    </div>
}

@if (Model == null || Model.Address == null)
{
    <p>Ładowanie danych...</p>
}
else
{
    <Form Model="@Model"
          LabelCol="new ColLayoutParam { Span = 5 }"
          WrapperCol="new ColLayoutParam { Span = 5 }"
          OnFinish="UpdateCustomer"
          ValidateOnChange="true">
        <FormItem Label="Imię">
            <Input @bind-Value="@Model.FirstName" />
        </FormItem>
        <FormItem Label="Nazwisko">
            <Input @bind-Value="@Model.LastName" />
        </FormItem>
        <FormItem Label="Adres e-mail">
            <Input @bind-Value="@Model.EmailAddress" />
        </FormItem>
        <FormItem Label="Data urodzenia">
            <DatePicker Size="large" Format="dd/MM/yyyy" Mask="dd/MM/yyyy" Placeholder="@("dd/mm/yyyy")" Class="form-control" @bind-Value="@Model.DateOfBirth" />
        </FormItem>
        <FormItem Label="Numer telefonu">
            <Input @bind-Value="@Model.PhoneNumber" />
        </FormItem>
        <FormItem Label="Stopień nurkowy">
            <Input @bind-Value="@Model.DivingCertificationLevel" />
        </FormItem>
        <FormItem Label="Kraj">
            <Input @bind-Value="@Model.Address.Country" />
        </FormItem>
        <FormItem Label="Województwo">
            <Input @bind-Value="@Model.Address.Voivodeship" />
        </FormItem>
        <FormItem Label="Kod pocztowy">
            <Input @bind-Value="@Model.Address.PostalCode" />
        </FormItem>
        <FormItem Label="Miasto">
            <Input @bind-Value="@Model.Address.City" />
        </FormItem>
        <FormItem Label="Ulica">
            <Input @bind-Value="@Model.Address.Street" />
        </FormItem>
        <FormItem Label="Number budynku/mieszkania">
            <Input @bind-Value="@Model.Address.HouseNumber" />
        </FormItem>

        <FormItem WrapperCol="new ColLayoutParam{ Offset = 5, Span = 16 }">
            <Button Type="@ButtonType.Primary" HtmlType="submit">
                Zatwierdź
            </Button>
        </FormItem>
    </Form>
}